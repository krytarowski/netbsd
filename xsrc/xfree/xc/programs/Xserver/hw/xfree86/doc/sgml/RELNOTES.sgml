<!DOCTYPE linuxdoc PUBLIC "-//XFree86//DTD linuxdoc//EN" [
<!ENTITY % defs SYSTEM "defs.ent"> %defs;
]>

<article>

<title>Release Notes for XFree86&reg; &relvers;
<author>The XFree86 Project, Inc
<date>16 March 2005

<ident>
$XFree86: xc/programs/Xserver/hw/xfree86/doc/sgml/RELNOTES.sgml,v 1.135 2005/03/17 01:11:56 dawes Exp $
</ident>

<abstract>

This document contains information about the various features and their current 
status in the XFree86 &relvers; release.

</abstract>

<toc>

<p>

<sect>Introduction to the 4.x Release Series
<p>
XFree86 4.0 was the first official release of the XFree86 4 series.
<![ %updaterel [
XFree86 &relvers; is the &whichupdaterel; update to &fullrelvers;, which is the 
latest full release in that series.
]]>
<![ %fullrel [
The current release (&relvers;) is the latest in that series.
]]>
The XFree86 4.x series  represents a significant redesign of the XFree86 X server,
with a strong focus on modularity
and configurability.

<![ %relcandidate [
<sect1>&fullrelvers; RC&rcnum;
<p>
This is release candidate &rcnum; for the &fullrelvers; release, and is 
feature-complete.  Known problems with this release candidate include:

<itemize>

<item>The documentation is not <em>fully</em> up to date.

</itemize>
]]>

<sect>Configuration: a Quick Synopsis
<p>
Automatic configuration was introduced with XFree86 4.4.0 
which makes it possible to start XFree86 without first creating a 
configuration file.  This was further improved in XFree86
4.5.0.  

While the initial automatic configuration support was originally targeted 
ust for Linux and the FreeBSD variants, in 4.5.0 it now includes Solaris, NetBSD and OpenBSD support, 
and it is planned that automatic configuration will be supported on other 
platforms in future releases.

If you are running either Linux, FreeBSD, NetBSD, OpenBSD, or Solaris,
try Auto Configuration by running:

<tscreen><verb>
XFree86 -autoconfig
</verb></tscreen>

If you want to customise some things afterwards, you can cut and paste the
automatically generated configuration from the
<tt>/var/log/XFree86.0.log</tt> file into an <tt>XF86Config</tt> file
and make your customisations there.  If you need to customise some parts
of the configuration while leaving others to be automatically detected,
you can combine a partial static configuration with the automatically
detected one by running:

<tscreen><verb>
XFree86 -appendauto
</verb></tscreen>

If you using a platform that is not currently supported, then you must try one 
of the older methods for getting started like <tt>xf86cfg</tt>", 
which is our graphical configuration tool.  It also has a text mode 
interface that an be used to create an initial configuration file and 
customise existing configurations.

After that, you can use XFree86 server's ability to create a 
starting configuration file.  To do so you must login as root, and run:

<tscreen><verb>
XFree86 -configure
</verb></tscreen>

and then follow the instructions.

Finally, if all else fails, the trusty old standby text-based tool
"<tt>xf86config</tt>" can also be used for generating X server config
files.

Hopefully, at least one, and perhaps all of these various configuration options 
will give you a reasonable starting point for a suitable configuration
file but we think that with the automatic mechanism you will probably not 
need any. 

If you would like to customise the configuration file, see the <htmlurl
name="XF86Config manual page" url="XF86Config.5.html">.  You should also
check the driver-specific manual pages and the related documentation, which
is found at <ref id="drivertables" name="tables below">.

Before downloading any of the binary distributions for this release, 
read through the <htmlurl name="Installation Document"
url="Install.html"> as it can point out which particular binary you should 
download. 

<![ %updaterel [
The following sections describe what has changed in the update release(s)
as well as what is <bf>new</bf> in the latest full release (&fullrelvers;).
]]>
<![ %fullrel [
The next section describes what is <bf>new</bf> in the latest version (&relvers;)
compared with the previous full release (&prevfullrelvers).
]]>
There are many new features in this release and we unfortunately do not have 
enough space
to cover
them all here.

</sect>

<![ %updaterel [
<sect>Summary of updates in &relvers;.
<p>

</sect>
]]>

<sect>Summary of new features in &fullrelvers;.
<p>

This is a sampling of the new features in XFree86 &fullrelvers;.  A more
complete list of changes can be found in the CHANGELOG that is part of
the XFree86 source tree.  It can also be viewed online at our <url
name="CVSweb server"
url="http://cvsweb.xfree86.org/cvsweb/xc/programs/Xserver/hw/xfree86/CHANGELOG?rev=HEAD">.

<sect1>Security Updates
<p>
The following security issues have been fixed in this release:

<itemize>
<item>xdm would listen on a random socket when the
<tt>DisplayManager.requestPort</tt> resource was set to <tt>0</tt>
(<url name="CAN-2004-0419" url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0419">).

<item>Integer overflow in libICE/libSM.

<item>libXpm stack and integer overflow and other issues (<url
name="CAN-2004-0687"
url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0687">, <url
name="CAN-2004-0688"
url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0688">, <url
name="CAN-2004-0914"
url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0914">, <url
name="CAN-2005-0605"
url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2005-0605">).

<item>Potential security issues related to wrap-around of memory allocation
requests in font handling and other areas.

</itemize>

<sect1>Video Driver Enhancements
<p>

<sect2>General
<p>

<itemize>
<item>In most drivers, fix a long-standing off-by-one error in the programming
of sync pulse start and end for video modes based on VGA or its extensions.

</itemize>

<sect2>ati
<p>

<itemize>
<item>Fix various bugs in the Mach64-based panel support.

<item>Re-instate atimisc's support for DGA on UltraSPARC platforms.

</itemize>

<sect2>chips
<p>

<itemize>
<item>Fix the stretching option and centering.

</itemize>

<sect2>cirrus
<p>

<itemize>
<item>Add support for the NEC PC-9821 with CLGD755x.

</itemize>

<sect2>i810
<p>

<itemize>
<item>Add support for memory size tweaking in the BIOS for 845G.

<item>Fix Xv flickering on the 830GM and later.

<item>Add support for the 915G/915GM chipsets.

<item>Add dual-head and clone support for the 915G, 855GM, 830GM chipsets.

<item>Add ARGB cursor support for all chipsets.  This requires an updated
agpgart kernel driver.

<item>Add module lid status checking.

<item>Fix XVideo when high resolutions are used on local flat panels.

<item>Add PanelID identification.

<item>Detect monitor changes on VT switch (830GM and up).

<item>Support custom video modes in the video BIOS, when available.

<item>Fix some Xv bugs.

<item>Set the default monitor parameters to match the display size for
the 830GM and up when they are not available from another source, improving
the default video mode selection in these cases.


</itemize>

<sect2>mga
<p>

<itemize>
<item>Make the Mystique lockup workaround more selective, avoiding different
problems on cards that do not require the workaround.

<item>Fix segfaults that occur when the XaaNoSolidFillRect and/or
XaaNoMono8x8PatternFillRect options are used.

<item>Fix for Xv resolution loss problem.

<item>Add i2c and Maven support, providing DDC and DPMS support for the
second head on dual-head cards.

</itemize>

<sect2>nv
<p>

<itemize>
<item>PCI-Xpress support added.

<item>Add support for newer hardware.

<item>Workaround for Toshiba M30 laptop issue.

<item>Reject modes larger than the flat panel.

<item>DPMS support for DVI added.

<item>Cursor update for NV11 so that alpha blended cursors will work
in conjunction with dithering (laptop panels).

</itemize>

<sect2>r128
<p>

<itemize>
<item>Improve the handling of timeouts in R128CCEWaitForIdle()

</itemize>

<sect2>radeon
<p>

<itemize>
<item>The DAC is turned off for DPMS modes, fixing a problem that can badly
affect some monitors.

<item>Add an option for avoid flickering and blank screen problems with
iBooks.

</itemize>

<sect2>rendition
<p>

<itemize>
<item>Fix bad free() calls in the probe function.

</itemize>

<sect2>s3
<p>

<itemize>
<item>Add support for interlaced video modes.

<item>Remove cfb support.

<item>Correct the depth checking (32 is not a supported depth).

<item>Fix DAC probing.

<item>Add IBM RGB525 support.

<item>Fix a ScreenToScreenCopy bug that shows up with xtest.

</itemize>

<sect2>s3virge
<p>

<itemize>
<item>Fix a bug that shows up when mode restoration results in a switch
between colour and mono operation.

</itemize>

<sect2>savage
<p>

<itemize>
<item>Fix HW cursor state on VT switching.

<item>Disable the RANDR extension when using rotation.

<item>Turn off the back light on panels when DPMS "off" mode is activated.

<item>Allow black as an Xv colour key.

</itemize>

<sect2>sis
<p>

<itemize>
<item>Fix some modes for 1400x1050 and 1600x1200 panels.

<item>BIOS data layout-related fixes for 661/741/760.

<item>Xv fixes.

<item>Fix LCD support for ECS A90x and ECS A907.

<item>Add video blitter as a second Xv adaptor for the M650/651 and later.

<item>Add (display?) hot plug support.

<item>Add preliminary support for the SiS340.

<item>Fix bad external symbols in this driver module.

</itemize>

<sect2>sunffb
<p>

<itemize>
<item>Fix a segfault when acceleration is disabled.

</itemize>

<sect2>vesa
<p>

<itemize>
<item>Do not attempt to set the palette format for depths greater than 8.
This fixes a problem on some platforms.

<item>Fix a substantial memory leak on server regeneration.

<item>Fix screen blanking for non-VGA compatible modes.

<item>Blank the screen at startup, so that the contents of the previous
session are not initially visible.

</itemize>

<sect2>via
<p>

<itemize>
<item>Restructuring and acceleration cleanups.

<item>Fix some DRM-related problems.

<item>Cleanup the DDC/EDID retrieval.

</itemize>

<sect2>vmware
<p>

<itemize>
<item>Various register state save/restore fixes.

<item>Fix host-cursor mode.

<item>Allow any reasonable depth if 8BIT_EMULATION is set, supporting non-host
depths.

<item>Set the "monitor" parameters to allow the default resolution to be
a little smaller than the host resolution rather than simply 640x480.

</itemize>

<sect1>Input Driver Enhancements

<p>
<sect2>keyboard
<p>

<itemize>
<item>A bug in the application of the Linux <tt>KDKBDREP</tt> ioctl has
been fixed, preventing unnecessary use of a fallback that directly programs
the keyboard hardware and produces warning message with recent Linux kernels.

<item>Differentiate between Alt+Ctrl+SPECIAL and Alt+Ctrl+Shift+SPECIAL
key sequences.

<item>Avoid various keycode conversions on NEC PC-98 platforms.

<item>Fix off-by-one problem for keys on FreeBSD/sparc64.

</itemize>

<sect2>mouse
<p>

<itemize>
<item>Add a serial PNP entry for the Genius NetScroll+ mouse.

<item>Fix a problem with the wsmouse driver losing events on 64-bit
architectures.

<item>Add/improve protocol and device auto-detection for FreeBSD, Linux,
NetBSD, OpenBSD, and SunOS/Solaris, eliminating the need to provide any
of this information in the config file in the majority of situations.

<item>Increase the maximum number of buttons supported from 12 to 24.

<item>Fix a multiple-free bug, that could lead to a crash.

</itemize>

<sect2>elographics
<p>

<itemize>
<item>Fix problems where the driver gets out of sync under heavy loads.

<item>Add an <tt>"AllowNoCntl"</tt> option, which allows the driver to be
used with some other protocols, like the SmartSet 2500s, which share the
same default protocol.

<item>Fix a problem with the cursor not correctly following the touch
in a dual-head configuration.  This fix has also been applied to other
relevant input drivers.

</itemize>

<sect2>eloinput
<p>
<itemize>
<item>A new driver for ELO Graphics 2500U USB touch screens.

</itemize>

<sect2>fpit
<p>

<itemize>
<item>Add support for the passive pen of the Stylistic 2400.

<item>Fix some driver bugs.

</itemize>

<sect1>XKB updates
<p>

<itemize>
<item>Update the Hindi/Devanagari map.

<item>Add Sorbian map.

<item>Add German Dvorak map.

<item>Fix wrong brokenbar keysym in the de_CH map.

<item>Rename the microsoftprose keyboard model to microsoftprousb because it
is not Swedish-specific but a common USB variant.

<item>Add nodeadkeys variant to the gb map.

<item>Replace the comma keysym on the KPDL key in the Brazilian map with
KP_Separator.

<item>Add multi-layout compatible Hungarian, Azerbaijani, Canadian,
Mongolian, and Vietnamese maps.

<item>Update Serbian map with new variant.

<item>Add Genius KB-12e model to the inet map.

<item>Update ABNT2 geometry (including two variants) and change the
Brazilian map to avoid ABNT2 specific keycodes section.

<item>Add Classical Latin map.

<item>Replace the Latvian map with a new one.

<item>Fix some errors in the Dzongka/Tibetan map.

<item>Add ur_PK (Urdu) map.

<item>Fixes for the Bengali map.

<item>Add Sinhala (Sri Lanka) map.

<item>Add missing keycode to the "xfree86" keycodes files.

<item>Update the mapping for the Microsoft Natural Multimedia keyboard. 

<item>Fixes for the Croatian map.

<item>Add a Polish variant to the French keyboard layout.

<item>Add a standard Kyrgyz map.

</itemize>


<sect1>X Server and Extension Updates

<p>
<itemize>
<item>Mesa as used in the XFree86 <tt>"GLcore"</tt> module for indirect
GLX rendering has been updated to version 6.2.1.

<item>Fixed bugs in the Screen Saver extension that could cause an X server
crash.

<item>Fixed a bug in the X-Resource extension that could cause an X
server crash when the client host and server host have different
endianness.

<item>Added support to the Xvfb server for specifying the screen origins
when Xinerama is enabled.

<item>Ensure that the Xvfb's root window depth and visuals are set
correctly.

<item>Work around bug in Mac OS X 10.1's AppKit that causes rootless
XDarwin to lock up when creating windows

<item>Fix XDarwin's launch of X clients by double clicking in the Finder when
there is a space in the path.

<item>Allow XDarwin to interpret scroll wheel mouse events correctly when
the shift key is held down.

<item>Add initial XInput support for XDarwin.

<item>Add an option for XDarwin to always use Mac command key equivalents.

<item>Make XDarwin not default to StaticColor on ix86.

<item>Fix a bug that caused restacks to be optimized away in rootless mode.

<item>Add support for dynamic screen configuration changes in rootless
XDarwin.

<item>Fix a problem with multiple glyphs in the RENDER extension's
RenderAddGlyphs that caused malloc corruption.

<item>Fix a segfault when XAA's overlay acceleration is invoked with
the XaaNoSolidFillRect option.

<item>Fix the disabling of individual DPMS states.

<item>Rework the XFree86 server's SBUS code so that SBUS adapters are properly
detected on SunOS.

<item>Auto-detect DPMS support based on EDID data.

<item>Fix DPMS enable/disable logic.

<item>Allow multiple probe phases when using automatic configuration, which
allows the driver search to continue after failures at the PreInit stage.

<item>Update the static XFree86 driver list to allow automatic configuration
to work with statically linked XFree86 servers.

<item>Add a '-autoconfig' command line option to the XFree86 server to
enable automatic configuration even when a configuration file is present.

<item>Integrate the TinyX servers into the standard XFree86 build.

<item>Fix a problem where a big request length of zero does not generate
a BadLength error.

<item>Add a Distributed Multihead X server (DMX) and related extension.

<item>Fix a segfault in the cfb module.

<item>Fixes for the MIT-SHM extension's Xineramafication.

<item>Fix detection of phantom PCI devices.

<item>Fix x86emu's handling of the 0xe8 and 0xe9 opcodes.

<item>Modify x86emu's handling of SHLD/SHRD instructions to allow shifts
greater than 15 for 16-bit operands.  This undocumented behaviour is
expected by the BIOS in an SM722 controller.

<item>Avoid some references to unloaded data in the XFree86 server, which
can cause crashes in some situations.

<item>Change the DDC/EDID root window property data from signed to unsigned.

<item>Fix the XFree86-Misc extension's PassMessage function.

<item>Fix XFree86-DGA for multi-domain architectures.

<item>Extend the XF86Config format and parser/config to allow multiple Monitor
sections to be referenced from a Screen section.

<item>Allow multiple XFree86 configuration sources to be combined, and
add a -appendauto" command line option to allow automatic configuration data
to be appended to a partial static configuration.

<item>Extend the XF86Config format and parser/config to allow multiple
ServerFlags, Files, and Module sections in a config file.

<item>Use a more complete set of the probed EDID data in determining the
default monitor parameters.

<item>Add a "preferred" video mode type, which can be obtained from the
probed EDID information, or from the static configuration.  This allows
the native video mode to be used by default for digital panels.

<item>Add tentative support for newer iterations of HP's zx1 chipsets.

<item>Fix xf86fbman's largest linear area offscreen computation.

<item>Print the XFree86 server's command line in the log file.

<item>Update getconfig to work with older versions of Perl, and to
detect when the version of Perl is too old and when Perl is not available.

<item>Extend automatic configuration and getconfig to work with SBUS video
devices in SPARC platforms.

<item>Update the ValidMode functions in most video drivers to return
more specific status values when a mode is rejected.

</itemize>

<sect1>Client and Library Updates

<p>

<sect2>Xlib and related libraries
<p>
<itemize>
<item>Fix an Xlib segfault that may occur when IPv6 XDM-AUTHORIZATION-1 data is
present in the .Xauthority file.

<item>Add WrapHelp.c and enable XdmAuth by default.

<item>Fix a null dereference in libSM when given a bad previous session ID.

</itemize>

<sect2>Xterm
<p>
The changes to xterm since XFree86 4.4 are:

Improved behavior
<itemize>
<item>Change resource settings for color4 and color12, add some discussion
	in XTerm-col.ad.

<item>Modify the criteria for disowning primary selection.  Previously,
	this happened anytime the cursor was moved before the end of the
	selection.  That would ensure that any insert/delete of char or
	line, as well as scrolling, would disown the selection.  The new
	criteria change this to checking if the operations would modify
	the data which is highlighted.

<item>Change default translations so a BtnDown which is not recognized
	is simply ignored rather than emitting a bell.  That makes it
	less obtrusive when the user tries to use a mouse which provides
	more capabilities than the X mouse driver supports, e.g., one
	with a horizontal scroll wheel.

<item>Modify to allow turning UTF-8 mode via escape sequence even if
	-wc option was not given at startup.

<item>Add menu items and corresponding actions for switching on/off the
	UTF-8 mode and Xft (TrueType) support.

<item>Modify FreeType support to allow resizing the font, in the same
	ways the window can be resized if fixed fonts are used.  The
	relative font sizes are derived from the fixed font sizes.

<item>Implement blinking text, using the timer for blinking cursor.

<item>Add translation to ASCII of commonly-used characters that groff
	translates to Unicode, when the font in use does not provide the
	corresponding glyphs.

<item>Modify constraints in form used to layout toolbar, to work with
	newer Xaw in XFree86 4.x.

<item>Make active-icon work properly when TrueType fonts are used, as
	well as when UTF-8 mode is used.

<item>Improve rendering for Xft, allow it to draw non-linedrawing
	characters such as "pi", which were drawn from internal tables
	with patch #180.

<item>Modify initialization of 256- and 88-colors so that colors beyond
	16 are normally not X resources.  This works around a hard-coded
	limit in Xt which breaks xterm when 256-colors and luit are both
	configured (report by Noah Friedman).

<item>Fix problem responding to session management events, e.g., which
	would make logging out very slow.

</itemize>

Modified behavior

<itemize>

<item>Enable utmpx support for NetBSD 1.6C and newer.

<item>Modify Help() to make "xterm -h" write to standard output rather
	than standard error.

<item>Improve error-reporting for root user by checking if $DISPLAY is
	set rather than using the useless message from X11 library.

<item>Improve $WINDOWID for configuration with toolbar by making it
	refer to the top-level shell rather than the parent of the
	current window.  For that case, the parent is a form widget,
	which does not have a name, which made the $WINDOWID not very
	useful as a parameter for xwininfo.

<item>Improve pattern used in uxterm to check for UTF-8 locale, e.g.,
	for HPUX.

<item>Modify uxterm script to use locale program to verify if the
	derived locale is installed.

<item>Add case to uxterm to accommodate locales ending with "@euro",
	e.g., fr_FR.UTF-8@euro.

<item>For Linux, if IUTF8 is defined, e.g., on recent 2.6.x kernels,
	set the corresponding flag for the slave pty, to enable UTF-8
	interpretation of backspace in cooked mode.

<item>Modify faceSize resource to use a floating-point internal value.

<item>Modify XTerm.ad to set saveLines default to 1024.

<item>Change xterm version string to use __vendorversion__ where that
	is available, and "XTerm" otherwise.  Rather than reporting the
	version of X that was current when xterm was modified, it reports
	the version against which it was built.

</itemize>

New resource settings

<itemize>

<item>Add scoFunctionKeys resource, to match manpage.

<item>Add -fd option and resource faceNameDoublesize to specify
	double-wide fonts with Xft.

<item>Add resource showMissingGlyphs to outline places on the screen
	where a font lacks the corresponding glyph.

<item>Add resource showBlinkAsBold to control whether blinking text
	should be shown as bold or actual blinking text.

<item>Add utmpDisplayId resource to allow users to control whether the
	display identifier (display number and screen number) are
	retained in the connection information recorded in utmp.

<item>Add bellOnReset resource to allow users to disable bell which
	sounds on hard reset since patch #183 changes to DECSCL.

</itemize>

New configure script options

<itemize>

<item>Add --disable-setuid option to configure script.

<item>Add --disable-full-tgetent option to configure script, allowing
	one to ignore a termcap library in favor of ncurses/curses.

</itemize>

Other new features

<itemize>

<item>Add mini-luit feature, which supports Latin9 directly rather than
	via luit, provided that Unicode fonts are used.

<item>Add dynamic abbreviation support like Emacs.

<item>Add "erase2" and "eol2" keywords to ttyModes resource, for
	recent/current FreeBSD.

</itemize>

Bug-fixes (see http://invisible-island.net/xterm/xterm.log.html for a
more complete list):

<itemize>

<item>Modify initialization and cleanup of utmp data to also compare
	the ut_line member.

<item>Correct table entry for DEL in the ground state, which marked it
	as a printable character from patch #171.

<item>Correct change from patch #157 which uses getlogin() to check for
	an alias; the storage used for the related getpwuid() call was
	overwritten by the data used for comparison.

<item>Correct case of SCS for character set 0 (line-drawing) to allow
	it to be selected into GR.

<item>Modify creat_as() to only fork if xterm is actually running as
	setuid and/or setgid.  This works around a Cygwin bug which hangs
	when logging is enabled and makes xterm a little faster for
	systems using interfaces such as utempter.

<item>Modify Cleanup() to avoid operations such as X calls that might
	use unsafe functions when it is called by a signal handler.

<item>Check for type of failure in xim_real_init() to avoid looping
	when the problem is an unsupported input method rather than a
	failure to connect to the XIM server.  Problem was introduced in
	patch #175.

<item>Add missing #undef OPT_SESSION_MGT to xtermcfg.hin to make the
	configure script's --disable-session-mgt option work.

<item>Correct options parsing for -into option so it can be combined
	with -e.

<item>Make escape sequence reporting dynamic colors consistent with the
	logic that sets it; choosing the opposite color when reverse
	video is set.

<item>Fix a repainting bug introduced in patch #180:  when using a font
	lacking line-drawing characters, a repaint of the screen could
	skip horizontally an extra amount after filling in the missing
	character.

<item>Modify terminfo to accommodate luit, which relies on G1 being
	used via an ISO-2022 escape sequence.  Note that this relies in
	turn on bug fixes in ncurses after the 5.4 release.

</itemize>

<sect2>Luit
<p>

<itemize>
<item>Fix a synchronization problem with luit's handling of tty settings.

<item>Extract information from the pty before forking rather than after,
to avoid conflicting with the child process's modifications to the line.

</itemize>

<sect2>GLX/DRI
<p>

<itemize>
<item>Mesa and its DRI drivers have been updated to version 6.2.1, plus
some bug fixes.

<item>Add a 915G DRI driver.

<item>Fix a GLX multi-thread bug.

</itemize>

<sect2>twm
<p>

<itemize>
<item>Add support for XPM icons.

<item>Add IconMaxWidth and TitleIndent configuration parameters.

</itemize>

<sect2>xdm
<p>

<itemize>
<item>Improve the operation of IPv6-enabled xdm when the platforms's
IPv6 support is disabled.

<item>Make use of Xlib's _XGetHostname rather than attempting to duplicate
it.

<item>Fix sessreg for NetBSD.

<item>Update docs and config to handle authDir being in a non-default
location.

</itemize>

<sect2>xfs
<p>

<itemize>
<item>Fix log file opening with the '-user nobody' option.

</itemize>

<sect1>I18n and Fonts
<p>
<itemize>
<item>FreeType has been updated to version 2.1.8.

<item>The FreeType-1.x based X-TrueType XFree86 server font backend has
been retired.  The functionality it provides is now available in the
"FreeType" font backend.  The old <tt>"xtt"</tt> module is now a wrapper
that loads the <tt>"freetype"</tt> module.

<item>A bug that prevented the <tt>VeraIt.ttf</tt> font from being
installed has been fixed.

<item>Fix a problem that could cause apps using the zh_CN.UTF-8 locale
to crash.

<item>Fix freetype module segfault with some Type1 fonts.

<item>Replace unicode keysyms in the en_US.UTF-8 Compose file with "traditional"
ones where such keysyms exist.

<item>Fix the ct_encoding sequence in the zh_CN.gbk locale.

<item>Update the 8859-7 unicode conversion data file to the current version.

<item>Update the gb3212.1980-0 encoding to handle fonts that do not have
a unicode table.

<item>Add encoding files for cns11643-1, cns11643-2, cns11643-3, and
suneu_greek.

<item>Add support for the si_LK.UTF-8 locale.

<item>Reinstate the original mkfontdir program, because its mkfontscale
equivalent does not handle creating encodings.dir files as well as is
necessary.

<item>Fix for fstobdf generating corrupted BDF files.

<item>Update locale info for Kinyarwanda, the language of Rwanda.

<item>Add nine missing South African locales.

<item>Add extra fontset records into XLC_LOCALE, fixing problems with text
output by Xuft8 functions under non-Unicode locales.

<item>Add a Kyrgyz locale.

</itemize>

<sect1>OS Support Updates
<p>

<itemize>
<item>Numerous fixes and enhancements for the Solaris/SPARC platform support,
including the ability to build 64-bit shared libraries.

<item>Support added for OpenBSD/amd64.

<item>Differentiate left and right modifier keys on Mac OS X 10.3.

<item>Fix some path-related issues on OS/2 with xman and xf86cfg.

<item>Update the transport layer to allow LOCAL SCO connection types to be
used for more than just X protocol connections.

<item>Cleanups for the SCO port.

<item>Fixes for FreeBSD/amd64 support.

<item>Add support for newer UltraSPARC variants to the SunOS/Solaris and
Linux ports.

<item>Understand the PCI bus naming scheme found in Linux 2.6 kernels.

</itemize>

<!--
<sect>Summary of new features in &prevrelvers;.
<p>
-->

<sect>Drivers<label id="drivertables">
<p>

<sect1>Video Drivers
<p>

XFree86 &relvers; includes the following video drivers:

<table border=1 align="center">
<tabular ca="|l|l|l|">
   <tabrow>Driver Name<colsep>Description<colsep>Further Information</tabrow>
   <hline>
   <tabrow><tt>apm</tt><colsep>Alliance Pro Motion<colsep><htmlurl
		name="README.apm" url="apm.html"></tabrow>
   <tabrow><tt>ark</tt><colsep>Ark Logic<colsep>&nbsp;</tabrow>
   <tabrow><tt>ati</tt><colsep>ATI<colsep><htmlurl
		name="README.ati" url="ati.html">, <htmlurl
		name="README.r128" url="r128.html">,</tabrow>
   <tabrow><tt>&nbsp;</tt><colsep>&nbsp;<colsep><htmlurl
		name="r128(4)" url="r128.4.html">, <htmlurl
		name="radeon(4)" url="radeon.4.html"></tabrow>
   <tabrow><tt>chips</tt><colsep>Chips &amp; Technologies<colsep><htmlurl
		name="README.chips" url="chips.html">, <htmlurl
		name="chips(4)" url="chips.4.html"></tabrow>
   <tabrow><tt>cirrus</tt><colsep>Cirrus Logic<colsep>&nbsp;</tabrow>
   <tabrow><tt>cyrix</tt> (*)<colsep>Cyrix MediaGX<colsep><htmlurl
		name="README.cyrix" url="cyrix.html"></tabrow>
   <tabrow><tt>fbdev</tt><colsep>Linux framebuffer device<colsep><htmlurl
		name="fbdev(4)" url="fbdev.4.html"></tabrow>
   <tabrow><tt>glide</tt><colsep>Glide2x (3Dfx)<colsep><htmlurl
		name="glide(4)" url="glide.4.html"></tabrow>
   <tabrow><tt>glint</tt><colsep>3Dlabs, TI<colsep><htmlurl
		name="glint(4)" url="glint.4.html"></tabrow>
   <tabrow><tt>i128</tt><colsep>Number Nine<colsep><htmlurl
		name="README.I128" url="I128.html">, <htmlurl
		name="i128(4)" url="i128.4.html"></tabrow>
   <tabrow><tt>i740</tt><colsep>Intel i740<colsep><htmlurl
		name="README.i740" url="i740.html"></tabrow>
   <tabrow><tt>i810</tt><colsep>Intel i8xx<colsep><htmlurl
		name="README.i810" url="i810.html">, <htmlurl
		name="i810(4)" url="i810.4.html"></tabrow>
   <tabrow><tt>imstt</tt><colsep>Integrated Micro Solns<colsep>&nbsp;</tabrow>
   <tabrow><tt>mga</tt><colsep>Matrox<colsep><htmlurl
		name="mga(4)" url="mga.4.html"></tabrow>
   <tabrow><tt>neomagic</tt><colsep>NeoMagic<colsep><htmlurl
		name="neomagic(4)" url="neomagic.4.html"></tabrow>
   <tabrow><tt>newport</tt> (-)<colsep>SGI Newport<colsep><htmlurl
		name="README.newport" url="newport.html">, <htmlurl
		name="newport(4)" url="newport.4.html"></tabrow>
   <tabrow><tt>nsc</tt><colsep>National Semiconductor<colsep><htmlurl
		name="nsc(4)" url="nsc.4.html"></tabrow>
   <tabrow><tt>nv</tt><colsep>NVIDIA<colsep><htmlurl
		name="nv(4)" url="nv.4.html"></tabrow>
   <tabrow><tt>rendition</tt><colsep>Rendition<colsep><htmlurl
		name="README.rendition" url="rendition.html">, <htmlurl
		name="rendition(4)" url="rendition.4.html"></tabrow>
   <tabrow><tt>s3</tt><colsep>S3 (not ViRGE or Savage)<colsep>&nbsp;</tabrow>
   <tabrow><tt>s3virge</tt><colsep>S3 ViRGE<colsep><htmlurl
		name="README.s3virge" url="s3virge.html">, <htmlurl
		name="s3virge(4)" url="s3virge.4.html"></tabrow>
   <tabrow><tt>savage</tt><colsep>S3 Savage<colsep><htmlurl
		name="savage(4)" url="savage.4.html"></tabrow>
   <tabrow><tt>siliconmotion</tt><colsep>Silicon Motion<colsep><htmlurl
		name="siliconmotion(4)" url="siliconmotion.4.html"></tabrow>
   <tabrow><tt>sis</tt><colsep>SiS<colsep><htmlurl
		name="README.SiS" url="SiS.html">, <htmlurl
		name="sis(4)" url="sis.4.html"></tabrow>
   <tabrow><tt>sunbw2</tt> (+)<colsep>Sun bw2<colsep>&nbsp;</tabrow>
   <tabrow><tt>suncg14</tt> (+)<colsep>Sun cg14<colsep>&nbsp;</tabrow>
   <tabrow><tt>suncg3</tt> (+)<colsep>Sun cg3<colsep>&nbsp;</tabrow>
   <tabrow><tt>suncg6</tt> (+)<colsep>Sun GX and Turbo GX<colsep>&nbsp;</tabrow>
   <tabrow><tt>sunffb</tt> (+)<colsep>Sun Creator/3D, Elite 3D<colsep>&nbsp;</tabrow>
   <tabrow><tt>sunleo</tt> (+)<colsep>Sun Leo (ZX)<colsep>&nbsp;</tabrow>
   <tabrow><tt>suntcx</tt> (+)<colsep>Sun TCX<colsep>&nbsp;</tabrow>
   <tabrow><tt>tdfx</tt><colsep>3Dfx<colsep><htmlurl
		name="tdfx(4)" url="tdfx.4.html"></tabrow>
   <tabrow><tt>tga</tt><colsep>DEC TGA<colsep><htmlurl
		name="README.DECtga" url="DECtga.html"></tabrow>
   <tabrow><tt>trident</tt><colsep>Trident<colsep><htmlurl
		name="trident(4)" url="trident.4.html"></tabrow>
   <tabrow><tt>tseng</tt><colsep>Tseng Labs<colsep>&nbsp;</tabrow>
   <tabrow><tt>via</tt><colsep>VIA<colsep><htmlurl
		name="via(4)" url="via.4.html"></tabrow>
   <tabrow><tt>vesa</tt><colsep>VESA<colsep><htmlurl
		name="vesa(4)" url="vesa.4.html"></tabrow>
   <tabrow><tt>vga</tt><colsep>Generic VGA<colsep><htmlurl
		name="vga(4)" url="vga.4.html"></tabrow>
   <tabrow><tt>vmware</tt><colsep>VMWare guest OS<colsep><htmlurl
		name="vmware(4)" url="vmware.4.html"></tabrow>
</tabular>
</table>

Drivers marked with (*) are present in a preliminary form in this release,
but are not complete and/or stable yet.
<p>

Drivers marked with (+) are for Linux/SPARC only.
<p>

Drivers marked with (-) are for Linux/mips only.
<p>

Darwin/Mac OS X uses IOKit drivers and does not use the module loader drivers
listed above. Further information can be found in
<htmlurl name="README.Darwin" url="Darwin.html">.
</sect1>

<sect1>Input Drivers
<p>

XFree86 &relvers; includes the following input drivers:

<table border=1 align="center">
<tabular ca="|l|l|l|">
   <tabrow>Driver Name<colsep>Description<colsep>Further Information</tabrow>
   <hline>
<!--
   <tabrow><tt>acecad</tt><colsep>AceCad<colsep>&nbsp;</tabrow>
-->
   <tabrow><tt>aiptek(*)</tt><colsep>Aiptek USB tablet<colsep><htmlurl
		name="aiptek(4)" url="aiptek.4.html"></tabrow>
   <tabrow><tt>calcomp</tt><colsep>Calcomp<colsep>&nbsp;</tabrow>
   <tabrow><tt>citron</tt><colsep>Citron<colsep><htmlurl
		name="citron(4)" url="citron.4.html"></tabrow>
   <tabrow><tt>digitaledge</tt><colsep>DigitalEdge<colsep>&nbsp;</tabrow>
   <tabrow><tt>dmc</tt><colsep>DMC<colsep><htmlurl
		name="dmc(4)" url="dmc.4.html"></tabrow>
   <tabrow><tt>dynapro</tt><colsep>Dynapro<colsep>&nbsp;</tabrow>
   <tabrow><tt>elographics</tt><colsep>EloGraphics<colsep>&nbsp;</tabrow>
   <tabrow><tt>eloinput</tt><colsep>Elo 2500U USB<colsep><htmlurl
		name="eloinput(4)" url="eloinput.4.html"></tabrow>
   <tabrow><tt>fpit</tt><colsep>Fujitsu Stylistic Tablet PCs<colsep><htmlurl
		name="fpit(4)" url="fpit.4.html"></tabrow>
   <tabrow><tt>hyperpen</tt><colsep>Aiptek HyperPen 6000<colsep>&nbsp;</tabrow>
   <tabrow><tt>js_x</tt><colsep>JamStudio pentablet<colsep><htmlurl
		name="js_x(4)" url="js_x.4.html"></tabrow>
   <tabrow><tt>kbd</tt><colsep>generic keyboards (alternate)<colsep><htmlurl
		name="kbd(4)" url="kbd.4.html"></tabrow>
   <tabrow><tt>keyboard</tt><colsep>generic keyboards<colsep><htmlurl
		name="keyboard(4)" url="keyboard.4.html"></tabrow>
   <tabrow><tt>microtouch</tt><colsep>MicroTouch<colsep>&nbsp;</tabrow>
   <tabrow><tt>mouse</tt><colsep>most mouse devices<colsep><htmlurl
		name="mouse(4)" url="mouse.4.html"></tabrow>
   <tabrow><tt>mutouch</tt><colsep>MicroTouch<colsep>&nbsp;</tabrow>
   <tabrow><tt>palmax</tt><colsep>Palmax PD1000/PD1100<colsep><htmlurl
		name="palmax(4)" url="palmax.4.html"></tabrow>
   <tabrow><tt>penmount</tt><colsep>PenMount<colsep>&nbsp;</tabrow>
   <tabrow><tt>spaceorb</tt><colsep>SpaceOrb<colsep>&nbsp;</tabrow>
   <tabrow><tt>summa</tt><colsep>SummaGraphics<colsep>&nbsp;</tabrow>
   <tabrow><tt>tek4957</tt><colsep>Tektronix 4957 tablet<colsep><htmlurl
		name="tek4957(4)" url="tek4957.4.html"></tabrow>
   <tabrow><tt>ur98(*)</tt><colsep>Union Reality UR-F98 headtracker<colsep><htmlurl
		name="ur98(4)" url="ur98.4.html"></tabrow>
   <tabrow><tt>void</tt><colsep>dummy device<colsep><htmlurl
		name="void(4)" url="void.4.html"></tabrow>
   <tabrow><tt>wacom</tt><colsep>Wacom tablets<colsep><htmlurl
		name="wacom(4)" url="wacom.4.html"></tabrow>
</tabular>
</table>

Drivers marked with (*) are available for Linux only.

<sect>Known Problems
<p>

Currently no known problems are documented.

<sect>Overview of XFree86 4.x.
<p>
XFree86 4.x has a single X server binary called <tt>XFree86</tt>.  This
binary can either have one or more video and input drivers linked in
statically, or more usually, dynamically, and in that manner load the
video drivers, input drivers, and other modules that are needed.

XFree86 &relvers; has X server support for most UNIX&reg; and UNIX-like
operating systems on Intel/x86 platforms, plus support for Linux and
some BSD OSs on Alpha, PowerPC, IA-64, AMD64, SPARC, and Mips platforms,
and for Darwin on PowerPC.  Support for additional architectures and
operating systems is in progress and is planned for future releases.

<sect1>Loader and Modules
<p>
The XFree86 X server has a built-in run-time loader, which can load
normal object files and libraries in most of the commonly used formats.
The loader does not rely on an operating system's native dynamic loader
support and it works on platforms that do not provide this feature.  This
allows for the modules to be operating system independent (although
not, of course, CPU architecture independent) which means that a module
compiled on Linux/x86 can be loaded by an X server running on Solaris/x86,
or FreeBSD, or even OS/2.

The X server makes use of modules for video drivers, X server extensions,
font rasterisers, input device drivers, framebuffer layers (like mfb,
cfb, etc), and internal components used by some drivers (like XAA),

The module interfaces (both API and ABI) used in this release are subject
to change without notice.  While we will attempt to provide backward
compatibility for the module interfaces as of the 4.0 release (meaning
that 4.0 modules will work with future core X server binaries), we cannot
guarantee this.  Compatibility in the other direction is explicitly not
guaranteed because new modules may rely on interfaces added in new
releases.

<bf>Note about module security</bf>
<quote><p>
	The XFree86 X server runs with root privileges, i.e. 
	the X server loadable modules also run with these privileges.
	For this reason we recommend that all users be careful to only
	use loadable modules from reliable sources,  otherwise the
	introduction of viruses and contaminated code can occur and
	wreak havoc on your system.  We hope to have a mechanism for
	signing/verifying the modules that we provide available in a
	future release.

</quote>

<sect1>Configuration <label id="config">
<p>

The XFree86 server uses a configuration file as the primary mechanism
for providing configuration and run-time parameters.  The configuration
file format is described in detail in the <htmlurl name="XF86Config(5)"
url="XF86Config.5.html"> manual page.

The XFree86 server has support for automatically determining an initial
configuration on most platforms, as well as support or generating a basic
initial configuration file.

<sect1>Command Line Options
<p>

Command line options can be used to override some default parameters and
parameters provided in the configuration file.  These command line options
are described in the <htmlurl name="XFree86(1)"
url="XFree86.1.html"> manual page.
  
<sect1>XAA
<p>

The XFree86 Acceleration Architecture (XAA) was completely rewritten
from scratch for XFree86 4.x.  Most drivers implement acceleration by
making use of the XAA module.

<sect1>Multi-head
<p>
Some multi-head configurations are supported in XFree86 4.x, primarily
with multiple PCI/AGP cards.

One of the main problems is with drivers not sufficiently initialising
cards that were not initialised at boot time.  This has been improved
somewhat with the INT10 support that is used by most drivers (which
allows secondary card to be "soft-booted", but in some cases there are
other issues that still need to be resolved.  Some combinations can be
made to work better by changing which card is the primary card (either
by using a different PCI slot, or by changing the system BIOS's preference
for the primary card).

<sect1>Xinerama
<p>
Xinerama is an X server extension that allows multiple physical screens
to behave as a single screen.  With traditional multi-head in X11,
windows cannot span or cross physical screens.  Xinerama removes this
limitation.  Xinerama does, however, require that the physical screens
all have the same root depth, so it isn't possible, for example, to use
an 8-bit screen together with a 16-bit screen in Xinerama mode.

Xinerama is not enabled by default, and can be enabled with the
<tt>+xinerama</tt> command line option for the X server.

Xinerama was included with X11R6.4.  The version included in XFree86 4.x
was completely rewritten for improved performance and correctness.

Known problems:
<itemize>
  <item>Not all window managers are Xinerama-aware, and so some
	operations like window placement and resizing might not behave
	in an ideal way.  This is an issue that needs to be dealt with
	in the individual window managers, and isn't specifically an
	XFree86 problem.

</itemize>

<sect1>DGA version 2
<p>

DGA 2.0 is included in &relvers;.
Documentation for the client libraries can be found in the <htmlurl
name="XDGA(3)" url="XDGA.3.man"> man page.  A good degree of backwards
compatibility with version 1.0 is provided.


<sect1>DDC
<p>
The VESA&reg; Display Data Channel (DDC&trade;) standard allows the monitor
to tell the video card (or on some cases the computer directly) about
itself; particularly the supported screen resolutions and refresh rates.

Partial or complete DDC support is available in most of the video drivers.
DDC is enabled by default, but can be disabled with a "Device" section
entry:  <tt>Option "NoDDC"</tt>.  We have support for DDC versions 1
and 2; these can be disabled independently with <tt>Option "NoDDC1"</tt>
and <tt>Option "NoDDC2"</tt>.

At startup the server prints out DDC information from the display, and
will use this information to set the default monitor parameters and video
mode when none are provided explicitly in the configuration file.

<sect2>Changed behavior caused by DDC.
<p>
Several drivers uses DDC information to
set the screen size and pitch.  This can be overridden by explicitly
resetting it to the and non-DDC default value 75 with the <tt>-dpi
75</tt> command line option for the X server, or by specifying appropriate
screen dimensions with the "DisplaySize" keyword in the "Monitor" section
of the config file.


<sect1>GLX and the Direct Rendering Infrastructure (DRI)
<p>

Direct rendered OpenGL&reg; support is provided for several hardware
platforms by the Direct Rendering Infrastructure (DRI), which is part
of Mesa.  Mesa also provides the 3D core rendering component of GLX.
Further information can be found at the <url name="DRI Project's web
site" url="http://dri.sf.net/"> and the <url name="Mesa web site"
url="http://www.mesa3d.org">.

<sect1>XVideo Extension (Xv)
<p>

The XVideo extension is supported in XFree86 4.x.
An XvQueryPortAttributes function has been added as well as
support for XvImages.  XvImages are XImages in alternate color spaces 
such as YUV and can be passed to the server through shared memory
segments.  This allows clients to display YUV data with high quality
hardware scaling and filtering.

<sect1>X Rendering Extension (Render) <label id="render">
<p>

The X Rendering extension provides a 2D rendering model that more
closely matches application demands and hardware capabilities.  It provides
a rendering model derived from Plan 9 based on Porter/Duff image
composition rather than binary raster operations.

<p>
Using simple compositing operators provided by most hardware, Render
can draw anti-aliased text and geometric objects as well as perform 
translucent image overlays and other image operations not possible with 
the core X rendering system.

<p>
XFree86 &relvers; provides a partial implementation of Render sufficient 
for drawing anti-aliased text and image composition.  Still to be 
implemented are geometric primitives and affine transformation of images.

<p>
Unlike the core protocol, Render provides no font support for applications,
rather it allows applications to upload glyphs for display on the screen.
This allows the client greater control over text rendering and complete
access to the available font information while still providing hardware
acceleration.  The Xft library provides font access for
Render applications.

<sect2>The Xft Library
<p>

On the client side, the Xft library provides access to fonts for
applications using the FreeType library, version 2.  FreeType currently
supports Type1 and TrueType font files, a future release is expected to 
support BDF and PCF files as well, so Render applications will have access 
to the complete range of fonts available to core applications.  One 
important thing to note is that Xft uses the vertical size of the monitor 
to compute accurate pixel sizes for provided point sizes; if your monitor 
doesn't provide accurate information via DDC, you may want to add that 
information to <tt>XF86Config</tt>.

<p>

To allow a graceful transition for applications moving from core text
rendering to the Render extension, Xft can use either core fonts or FreeType
and the Render extension for text.  By default, Xft is configured to support
both core fonts and FreeType fonts using the supplied version of FreeType
2.  See the section on FreeType support in Xft for instructions on
configuring XFree86 to use an existing FreeType installation.

<p>
The Xft library uses a configuration file, <tt>XftConfig</tt>, which
contains information about which directories contain font files and also
provides a sophisticated font aliasing mechanism.  Documentation for that
file is included in the <htmlurl name="Xft(3)" url="Xft.3.man"> man page.

</sect2>
<sect2>FreeType support in Xft
<p>

XFree86 &relvers; includes sources for FreeType version &freetypevers;,
and, by default, they are built and installed automatically.

</sect2>

<sect2>Application Support For Anti-Aliased Text
<p>

Only three applications have been modified in XFree86 &relvers; to work 
with the Render extension and the Xft and FreeType libraries to provide 
anti-aliased text.  Xterm, xditview and x11perf.  Migration of other 
applications may occur in future releases.

<p>
By default, xterm uses core fonts through the standard core API.  It has
a command line option and associated resource to direct it to use
Xft instead:
<itemize>
  <item><tt>-fa</tt> family / <tt>.VT100.faceName:</tt> family.  Selects the 
	font family to use.
</itemize>

<p>
Xditview will use Xft instead of the core API by default.  X11perf 
includes tests to measure the performance of text rendered in three ways, 
anti-aliased, anti-aliased with sub-pixel sampling and regular chunky 
text, but through the Render extension, a path which is currently somewhat
slower than core text.
</sect2>

<sect1>Other extensions
<p>

The XFree86-Misc extension has not been fully ported to the new server
architecture yet.  This might be completed in a future release.

The XFree86-VidModeExtension extension has been updated, and mostly ported
to the new server architecture.  The area of mode validation needs further
work, and the extension should be used with care.  This extension has
support for changing the gamma setting at run-time, for modes where this
is possible.  The <tt>xgamma</tt> utility makes use of this feature.
Compatibility with the 3.3.x version of the extension is provided.
The missing parts of this extension and some new features should be
completed in a future release.


<sect1>xedit
<p>

Xedit has several new features, including:
<itemize>
  <item>An embedded lisp interpreter that allows easier extension of the editor.
  <item>Several new syntax highlight modes, and indentation rules for C and Lisp.
  <item>Flexible search/replace interface that allows regex matches.
  <item>Please refer to <tt><htmlurl name="xedit(1)" url="xedit.1.html"></tt>
	for more details.
</itemize>

<sect1>Font support
<p>

Details about the font support in XFree86 4.x can be found
in the <htmlurl name="README.fonts" url="fonts.html"> document.

<sect1>TrueType support
<p>

The XFree86 4.x server comes with a TrueType backend, known as the
"FreeType" backend, based on the FreeType library.  The functionality
of the former X-TrueType was merged into the FreeType backend by the
After X-TT Project for the XFree86 4.4.0 release, and the old X-TrueType
backend has been dropped as of XFree86 4.5.0.

<sect1>CID font support
<p>

Support for CID-keyed fonts is included in XFree86 4.x.
The CID-keyed font format was designed by <url name="Adobe Systems"
url="http://www.adobe.com"> for fonts with large character sets.  The
CID-keyed font support in XFree86 was donated by <url name="SGI"
url="http://www.sgi.com">.  See the <htmlurl name="LICENSE"
url="LICENSE.html"> document for a copy of the CID Font Code Public
License.

<sect1>Internationalisation of the scalable font backends
<p>

XFree86 4.x has a ``fontenc'' layer to allow the scalable font backends
to use a common method of font re-encoding.  This re-encoding makes it
possible to use fonts in encodings other than their their native
encoding.  This layer is used by the FreeType, Type1 and Speedo backends.

<sect1>Large font optimisation
<p>

The glyph metrics array, which all the X clients using a particular font
have access to, is placed in shared memory, so as to reduce redundant
memory consumption.  For non-local clients, the glyph metrics array is
transmitted in a compressed format.

<sect1>Unicode/ISO 10646 support
<p>
What is included in 4.x:

<itemize>
  <item>All ``-misc-fixed-*'' BDF fonts are now available in the
        ISO10646-1 encoding and cover at least the 614 characters
        found in ISO 8859-{1-5,7-10,14,15}, CP1252, and MES-1. The
        non-bold fonts also cover all Windows Glyph List 4 (WGL4)
        characters, including those found in all 8-bit MS-DOS/Windows
        code pages. The 8-bit variants of the ``-misc-fixed-*'' BDF
        fonts (ISO8859-1, ISO8859-2, KOI8-R, etc.) have all been
        automatically generated from the new ISO10646-1 master fonts.

  <item>Some ``-misc-fixed-*'' BDF ISO10646-1 fonts now cover a
        comprehensive Unicode repertoire of over 3000 characters
        including all Latin, Greek, Cyrillic, Armenian, Gregorian,
        Hebrew, IPA, and APL characters, plus numerous scientific,
	typographic, technical, and backwards-compatibility
        symbols. Some of these fonts also cover Arabic, Ethiopian,
        Thai, Han/Kanji, Hangul, full ISO 8859, and more. For the 6x13
        font there is now a 12x13ja Kanji extension and for the 9x18
        font there is a 18x18ja Kanji/Han/Hangul extension, which
        covers all ISO-2022-JP-2 (RFC 1554) characters. The 9x18 font
        can also be used to implement simple combining characters by
        accent overstriking. For more information, read Markus Kuhn's
        <url name="UTF-8 and Unicode FAQ"
        url="http://www.cl.cam.ac.uk/~mgk25/unicode.html">.

  <item>Mark Leisher's ClearlyU proportional font (similar to Computer
	Modern).

  <item>ISO 10646/Unicode UTF-8 Level 1 support added to xterm
	(enabled with the <tt>-u8</tt> option).

  <item>The FreeType font backend supports Unicode-encoded fonts.

</itemize>

<sect1>Xlib Compose file support and extensions <label id="compose">
<p>

A more flexible Compose file processing system was added to Xlib in
XFree86 4.4.0.  The compose file is searched for in the following order:

<enum>
<item>If the environment variable <bf>$XCOMPOSEFILE</bf> is set, its value
is used as the name of the Compose file.

<item>If the user's home directory has a file named "<tt>.XCompose</tt>", it
is used as the Compose file.

<item>The old method is used, and the compose file is
"&lt;<it>xlocaledir</it>&gt;<tt>/</tt>&lt;<it>localename</it>&gt;<tt>/Compose</tt>".

</enum>

Compose files can now use an "include" instruction.  This allows local
modifications to be made to existing compose files without including all
of the content directly.  For example, the system's iso8859-1 compose file
can be included with a line like this:

<tscreen><verb>
include "/usr/X11R6/lib/X11/locale/iso8859-1/Compose"
</verb></tscreen>

There are two substitutions that can be made in the file name of the
include instruction.  <bf>%H</bf> expands to the user's home directory
(the <bf>$HOME</bf> environment variable), and <bf>%L</bf> expands to the
name of the locale specific Compose file (i.e., 
"&lt;<it>xlocaledir</it>&gt;<tt>/</tt>&lt;<it>localename</it>&gt;<tt>/Compose</tt>").

For example, you can include in your compose file the default Compose file
by using:

<tscreen><verb>
include "%L"
</verb></tscreen>

and then rewrite only the few rules that you need to change.  New compose
rules can be added, and previous ones replaced.

Finally, it is no longer necessary to specify in the right part of a rule
a locale encoded string in addition to the keysym name.  If the string is
omitted, Xlib figures it out from the keysym according to the current
locale.  I.e., if a rule looks like:

<tscreen><verb>
<dead_grave> <A> : "\300" Agrave
</verb></tscreen>

the result of the composition is always the letter with the "\300" code.
But if the rule is:

<tscreen><verb>
<dead_grave> <A> : Agrave
</verb></tscreen>

the result depends on how Agrave is mapped in the current locale.

<sect1>Luxi fonts from Bigelow and Holmes <label id="luxi">
<p>

XFree86 now includes the ``Luxi'' family of Type&nbsp;1 fonts and TrueType
fonts.  This family consists of the fonts ``Luxi&nbsp;Serif'',
``Luxi&nbsp;Sans'' and ``Luxi&nbsp;Mono'' in Roman, oblique, bold and
bold oblique variants.  The TrueType version have glyphs covering the
basic ASCII Unicode range, the Latin&nbsp;1 range, as well as the
<it/Extended Latin/ range and some additional punctuation characters.
In particular, these fonts include all the glyphs needed for ISO&nbsp;8859
parts 1, 2, 3, 4, 9, 13 and 15, as well as all the glyphs in the Adobe
Standard encoding and the Windows 3.1  character set.

The glyph coverage of the Type&nbsp;1 versions is somewhat reduced,
and only covers ISO&nbsp;8859 parts 1, 2 and 15 as well as the Adobe
Standard encoding.

The Luxi fonts are original designs by Kris Holmes and Charles Bigelow
from Bigelow and Holmes Inc., who developed the Luxi typeface designs
in Ikarus digital format.  URW++ Design and Development GmbH converted
the Ikarus format fonts to TrueType and Type&nbsp;1 font programs and
implemented the grid-fitting "hints" and kerning tables in the Luxi
fonts.

The license terms for the Luxi fonts are included in the file
`<tt/COPYRIGHT.BH/', as well as in the <htmlurl
name="License document" url="LICENSE.html">.  For further information,
please contact
<email>design@bigelowandholmes.com</email> or
<email>info@urwpp.de</email>, or consult the
<url name="URW++ web site" url="http://www.urwpp.de">.


<sect>Credits
<p>

<![ %draft [
<bf>THIS IS A DRAFT OF THE XFree86 &fullrelvers; CREDITS SECTION.</bf>
If you find missing credits, incorrect attributions, or other errors, please
send details to <email>devel@XFree86.org</email>.
]]>

This section lists the credits for the XFree86 &fullrelvers; release.  For
a more detailed breakdown, refer to the CHANGELOG file in the XFree86
source tree, the <url name="cvs-commit archives"
url="http://www.mail-archive.com/cvs-commit@xfree86.org/maillist.html">,
or the 'cvs log' information for individual source files.

<descrip>
<tag>New Features, Enhancements and Updates:</tag>
  <descrip>
  <tag>Xterm enhancements and updates:</tag>Thomas Dickey

  <tag>Integrate TinyX into the mainline XFree86 build:</tag>X-Oz Technologies

  <tag>Intel i915GM support, dual head i830/i855/i915 support:</tag>Tungsten
  Graphics, Alan Hourihane, Keith Whitwell

  <tag>Automatic configuration enhancements:</tag>X-Oz Technologies, David Dawes

  <tag>Distributed Multihead X:</tag>Kevin Martin, Rik Faith

  <tag>Preliminary work on SunOS/SPARC and IRIX ports:</tag>Marc La France

  </descrip>
<tag>Integration:</tag>
  <descrip>
  <tag>General Integration of Submissions:</tag>David H. Dawes, Marc La France,
	Alan Hourihane, Ivan Pascal.
  <tag>DRI Integration:</tag>Alan Hourihane, David H. Dawes.
  </descrip>
<tag>Release Engineering:</tag>David H. Dawes.

<tag>Patches and other submissions (in alphabetical order):</tag>
Szilveszter Adam,
Tim Adye,
Taneem Ahmed,
Andrew Aitchison,
Raoul Arranz,
Zaeem Arshad,
Dwayne Bailey,
Ilyas Bakirov,
Denis Barbier,
Kyle Bateman,
J. Scott Berg,
Thomas Biege,
Dmitry Bolkhovityanov,
H Merijn Brand,
Peter Breitenlohner,
Benjamin Burke,
Dale L Busacker,
busmanus,
Julian Cable,
Mike Castle,
David M. Clay,
Philip Clayton,
Alan Coopersmith,
Ricardo Cruz,
Michel D&auml;nzer,
J. D. Darling,
David Dawes,
Michael Dawes,
Rafael &Aacute;vila de Esp&iacute;ndola,
Rick De Laet,
Josip Deanovic,
Angelus Dei,
Laurent Deniel,
Thomas Dickey,
Stefan Dirsch,
Charles Dobson,
DRI Project,
Emmanuel Dreyfus,
Boris Dusek,
Georgina O. Economou,
Egbert Eich,
Bernd Ernesti,
Chris Evans,
Rik Faith,
Adrian Fiechter,
Matthew Fischer,
FreeType Team,
Terry R. Frienrichsen,
Christopher Fynn,
Hubert Gburzynski,
Nicolas George,
Frank Giessler,
Fred Gleason,
Dmitry Golubev,
Alexander Gottwald,
Herbert Graeber,
Miroslav Halas,
John Harper,
Harshula,
John Heasley,
Matthieu Herrb,
David Holl,
Alex Holland,
Peng Hongbo,
Alan Hourihane,
Harold L Hunt II,
Alan Iwi,
Timur Jamakeev,
Paul Jarc,
Kean Johnston,
Nicolas Joly,
Mark Kandianis,
Kaleb Keithley,
Chamath Keppitiyagama,
Jung-uk Kim,
Satoshi Kimura,
Michael Knudsen,
Vlatko Kosturjak,
Alexei Kosut,
Anton Kovalenko,
Joachim Kuebart,
Marc La France,
David Laight,
Zarick Lau,
Pierre Lalet,
Michael Lampe,
Lanka Linux User Group,
Nolan Leake,
Werner Lemberg,
Dejan Lesjak,
Noah Levitt,
Greg Lewis,
Bernhard R Link,
Jonas Lund,
S. Lussos,
Torrey T. Lyons,
Roland Mainz,
N Marci,
Kevin Martin,
Stephen McCamant,
Mesa Developers,
Luke Mewburn,
Petr Mladek,
Bram Moolenaar,
Steve Murphy,
Ishikawa MUTSUMI,
Radu Octavian,
Lee Olsen,
Greg Parker,
Ivan Pascal,
Alexander E. Patrakov,
Mike Pechkin,
So&oacute;s P&eacute;ter,
Zvezdan Petkovic,
Alexander Pohoyda,
Xie Qian,
Bill Randle,
Adam J. Richter,
Tim Roberts,
Bernhard Rosenkraenzer,
Andreas R&uuml;den,
Steve Rumble,
Oleg Safiullin,
Ty Sarna,
Leo Savernik,
Barry Scott,
Shantonu Sen,
Yu Shao,
Andreas Schwab,
Matthias Scheler,
Dan Shearer,
Michael Shell,
Paul Shupak,
Alexander Stohr,
Marius Strobl,
Mikko Markus Torni,
Jess Thrysoee,
Izumi Tsutsui,
Tungsten Graphics,
Ryan Underwood,
Tristan Van Berkom,
Michael van Elst,
Phillip Vandry,
Roman Vasylyev,
Luc Verhaegen,
Rodion Vshevtsov,
Mark Vojkovich,
Edi Werner,
Keith Whitwell,
Scot Wilcoxon,
Dave Williss,
Thomas Winischhofer,
Kuang-che Wu,
X-Oz Technologies,
Chisato Yamauchi,
Michael Yaroslavtsev,
David Yerger,
Su Yong,
Hui Yu,
Sagi Zeevi,
Christian Zietz

<tag>Webmaster:</tag>Georgina O. Economou

<tag>Hosting:</tag><url name="Internet Systems Consortium, Inc"
url="http://www.isc.org/">.

</descrip>

<sect>Attributions/Acknowledgements
<p>

This product includes software developed by The XFree86 Project, Inc
(http://www.xfree86.org/) and its contributors.

This product includes software that is based in part of the work of the
FreeType Team (http://www.freetype.org).

This product includes software developed by the University of California,
Berkeley and its contributors.

This product includes software developed by Christopher G. Demetriou.

This product includes software developed by the NetBSD Foundation, Inc. and its
contributors

This product includes software developed by X-Oz Technologies
(http://www.x-oz.com/).


</article>
